(function(h){function g(a){if(d[a])return d[a].exports;var c=d[a]={exports:{},id:a,loaded:!1};h[a].call(c.exports,c,c.exports,g);c.loaded=!0;return c.exports}var d={};g.m=h;g.c=d;g.p="/";return g(0)})([function(h,g,d){h.exports=d(10)},function(h,g){Object.defineProperty(g,"__esModule",{value:!0});var d=function(){function a(a,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(c,d,
q){d&&a(c.prototype,d);q&&a(c,q);return c}}();h=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.id=c.getAutoIncrementedId();this.collidesWith=[];this.antiCollisionFrames=[];this.g=c;c.things||(c.things=[]);c.things.push(this)}d(a,[{key:"getPreviousPosition",value:function(){return{x:this.sprite.x-this.sprite.vx,y:this.sprite.y-this.sprite.vy}}},{key:"handleCollisions",value:function(){var a=this,d=this.g;this.collidesWith.forEach(function(c){d.collisionGroups[c].forEach(function(c){a.sprite!==
c.sprite&&d.hitTestRectangle(a.sprite,c.sprite)&&(a.antiCollisionFrames[c.id]=10,c.antiCollisionFrames[a.id]=10,a.handleCollision(c),c.handleCollision(a))})})}},{key:"handleCollision",value:function(a){}},{key:"update",value:function(){var a=this;Object.keys(this.antiCollisionFrames).forEach(function(c){--a.antiCollisionFrames[c];0===a.antiCollisionFrames[c]&&delete a.antiCollisionFrames[c]});this.handleCollisions()}}]);return a}();g.default=h},function(h,g){Object.defineProperty(g,"__esModule",{value:!0});
g.default={blank:{stroke:"#000000",fill:"#ffffff"},blue:{stroke:"#0000ff",fill:"#0088ff"},red:{stroke:"#000000",fill:"#ff0000"},yellow:{stroke:"#000000",fill:"#fff600"},green:{stroke:"#000000",fill:"#4cff00"}}},function(h,g,d){function a(a){return a&&a.__esModule?a:{default:a}}function c(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(g,"__esModule",{value:!0});var n=function(){function a(a,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(c,d,f){d&&a(c.prototype,d);f&&a(c,f);return c}}(),q=function t(a,c,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,c);if(void 0===e){if(a=
Object.getPrototypeOf(a),null!==a)return t(a,c,d)}else{if("value"in e)return e.value;c=e.get;return void 0===c?void 0:c.call(d)}};h=d(1);h=a(h);var f=d(6),k=a(f),f=d(2),p=a(f);d=d(7);var v=a(d);d=function(a){function d(a,c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?
this:a;a.color=c;a.createSprite();a.edgeBounces=0;a.collidesWith=["paddles","blocks"];return a}c(d,a);n(d,[{key:"createSprite",value:function(){this.sprite=this.g.circle(8,p.default[this.color].fill,p.default[this.color].stroke,3)}},{key:"bounceOffBounds",value:function(){var a=!1;if(0>=this.sprite.x||this.sprite.x>=this.g.stage.width-this.sprite.width)this.sprite.vx*=-1,a=!0;else if(32>=this.sprite.y||this.sprite.y>=this.g.stage.height-this.sprite.height)this.sprite.vy*=-1,a=!0;a&&(this.edgeBounces+=
1);2<=this.edgeBounces&&(this.changeBallColor("blank"),this.edgeBounces=0)}},{key:"screenWrap",value:function(){this.screenWrappedLastFrame&&(this.sprite.visible=!0,this.screenWrappedLastFrame=!1);var a=[this.sprite.x,this.sprite.y];this.sprite.x<-1*this.sprite.width&&(this.sprite.x=this.g.stage.width);this.sprite.x>this.g.stage.width&&(this.sprite.x=-1*this.sprite.width);this.sprite.y<-1*this.sprite.height&&(this.sprite.y=this.g.stage.height);this.sprite.y>this.g.stage.height&&(this.sprite.y=-1*
this.sprite.height);if(a[0]!==this.sprite.x||a[1]!==this.sprite.y)this.sprite.visible=!1,this.screenWrappedLastFrame=!0}},{key:"changeBallColor",value:function(a){var c=this.sprite;this.g.remove(this.sprite);this.color=a;this.createSprite();this.sprite.x=c.x;this.sprite.y=c.y;this.sprite.vx=c.vx;this.sprite.vy=c.vy}},{key:"handleCollision",value:function(a){if(a instanceof v.default||a instanceof k.default&&"blank"!==a.color&&a.color!==this.color){this.edgeBounces=0;var c=this.getPreviousPosition(),
e=a.getPreviousPosition();a instanceof v.default&&a.color!==this.color&&this.changeBallColor(a.color);if(c.y+this.sprite.height<=e.y)c="top";else if(c.x+this.sprite.width<=e.x)c="left";else if(c.y>=e.y+a.sprite.height)c="bottom";else if(c.x>=e.x+a.sprite.width)c="right";else return;"left"===c||"right"===c?(this.sprite.vx=0<this.sprite.vx*a.sprite.vx?this.sprite.vx+a.sprite.vx:-1*this.sprite.vx+a.sprite.vx,this.sprite.vy+=a.sprite.vy,this.sprite.vx=Math.min(Math.abs(this.sprite.vx),5)*(0>this.sprite.vx?
-1:1),this.sprite.vy=Math.min(Math.abs(this.sprite.vy),5)*(0>this.sprite.vy?-1:1)):(this.sprite.vy=0<this.sprite.vy*a.sprite.vy?this.sprite.vy+a.sprite.vy:-1*this.sprite.vy+a.sprite.vy,this.sprite.vx+=a.sprite.vx,this.sprite.vy=Math.min(Math.abs(this.sprite.vy),5)*(0>this.sprite.vy?-1:1),this.sprite.vx=Math.min(Math.abs(this.sprite.vx),5)*(0>this.sprite.vx?-1:1))}}},{key:"update",value:function(){q(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"update",this).call(this);this.bounceOffBounds();
this.g.move(this.sprite)}}]);return d}(h.default);g.default=d},function(h,g){Object.defineProperty(g,"__esModule",{value:!0});g.getPlayerControls=function(d,a){d=d.keyboard;switch(a){case 1:return{up:d(38),left:d(37),down:d(40),right:d(39),action:d(13)};case 2:return{up:d(87),left:d(65),down:d(83),right:d(68),action:d(32)};default:throw Error("Invalid layer number: "+a);}}},function(h,g,d){function a(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(g,"__esModule",{value:!0});h=d(7);var c=
a(h);h=d(3);var n=a(h);h=d(6);var q=a(h);h=d(12);var f=a(h);d=d(11);var k=a(d);g.default=function(a){a.things=[];a.collisionGroups={balls:[],paddles:[],blocks:[]};var d=0;a.getAutoIncrementedId=function(){return d+=1};for(var m=[],p=128;608>=p;p+=32)for(var h=128;608>=h;h+=32)m.push(new q.default(a,{x:p,y:h}));a.collisionGroups.blocks=m;m=[{position:"bottom",color:"blue",player:1},{position:"right",color:"blue",player:1},{position:"top",color:"red",player:2},{position:"left",color:"red",player:2}];
m[a.randomInt(0,1)].startWithBall=!0;m[a.randomInt(2,3)].startWithBall=!0;m.forEach(function(d){var f=new c.default(a,d);a.collisionGroups.paddles.push(f);d.startWithBall&&(d=new n.default(a,d.color),f.attachStarterBall(d),a.collisionGroups.balls.push(d))});new f.default(a,{onTimerReachesZero:function(){a.state=(0,k.default)(a)}});return function(){a.things.forEach(function(a){return a.update()})}}},function(h,g,d){function a(a){return a&&a.__esModule?a:{default:a}}function c(a,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(g,"__esModule",{value:!0});var n=function(){function a(a,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,
f.key,f)}}return function(c,d,f){d&&a(c.prototype,d);f&&a(c,f);return c}}();h=d(1);h=a(h);var q=d(3),f=a(q);d=d(2);var k=a(d);d=function(a){function d(a,c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.color="blank";a.position=c;a.createSprite();return a}c(d,
a);n(d,[{key:"createSprite",value:function(){this.sprite=this.g.rectangle(32,32,k.default[this.color].fill,k.default[this.color].stroke,2,this.position.x,this.position.y);this.sprite.alpha="blank"===this.color?0:.5}},{key:"handleCollision",value:function(a){a instanceof f.default&&("blank"===this.color&&(this.g.remove(this.sprite),this.color=a.color,this.createSprite()),this.color!==a.color&&(this.g.remove(this.sprite),this.color=a.color,this.createSprite()))}}]);return d}(h.default);g.default=d},
function(h,g,d){function a(a){return a&&a.__esModule?a:{default:a}}function c(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(g,"__esModule",{value:!0});g.BOTTOM=g.TOP=g.RIGHT=g.LEFT=void 0;var n=function(){function a(a,c){for(var b=
0;b<c.length;b++){var l=c[b];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(a,l.key,l)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),q=function x(a,b,l){null===a&&(a=Function.prototype);var c=Object.getOwnPropertyDescriptor(a,b);if(void 0===c){if(a=Object.getPrototypeOf(a),null!==a)return x(a,b,l)}else{if("value"in c)return c.value;b=c.get;return void 0===b?void 0:b.call(l)}};h=d(1);h=a(h);var f=d(3);a(f);var k=d(4);d=d(2);var p=
a(d),v=g.LEFT="left",m=g.RIGHT="right",t=g.TOP="top",r=g.BOTTOM="bottom";d=function(a){function e(b,l){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a;a=(e.__proto__||Object.getPrototypeOf(e)).call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.sprite=b.rectangle(-1<[t,r].indexOf(l.position)?64:16,-1<[t,r].indexOf(l.position)?16:64,p.default[l.color].fill,
p.default[l.color].stroke,2);switch(l.position){case t:b.stage.putTop(a.sprite,0,48);break;case m:b.stage.putRight(a.sprite);break;case r:b.stage.putBottom(a.sprite);break;case v:b.stage.putLeft(a.sprite);break;default:throw Error("invalid position");}a.position=l.position;a.color=l.color;a.player=l.player;a.antiCollisionFrames={};a.controls=(0,k.getPlayerControls)(b,a.player);return a}c(e,a);n(e,[{key:"attachStarterBall",value:function(b){this.caughtBall=b}},{key:"handleVerticalControls",value:function(){var b=
this;this.controls.up.press=function(){b.upArrowDown=!0;b.sprite.vy=-8};this.controls.up.release=function(){b.upArrowDown=!1;b.controls.down.isDown||(b.sprite.vy=0)};this.controls.down.press=function(){b.downArrowDown=!0;b.sprite.vy=8};this.controls.down.release=function(){b.downArrowDown=!1;b.controls.up.isDown||(b.sprite.vy=0)}}},{key:"handleHorizontalControls",value:function(){var b=this;this.controls.right.press=function(){b.rightArrowDown=!0;b.sprite.vx=8};this.controls.right.release=function(){b.rightArrowDown=
!1;b.controls.left.isDown||(b.sprite.vx=0)};this.controls.left.press=function(){b.leftArrowDown=!0;b.sprite.vx=-8};this.controls.left.release=function(){b.leftArrowDown=!1;b.controls.right.isDown||(b.sprite.vx=0)}}},{key:"handleInput",value:function(){var b=this;-1<[t,r].indexOf(this.position)&&this.handleHorizontalControls();-1<[v,m].indexOf(this.position)&&this.handleVerticalControls();this.controls.action.press=function(){b.caughtBall&&b.releaseBall()}}},{key:"releaseBall",value:function(){if(this.caughtBall){switch(this.position){case r:this.caughtBall.sprite.vy=
-4;this.caughtBall.sprite.vx=this.sprite.vx;break;case t:this.caughtBall.sprite.vy=4;this.caughtBall.sprite.vx=this.sprite.vx;break;case v:this.caughtBall.sprite.vy=this.sprite.vy;this.caughtBall.sprite.vx=4;break;case m:this.caughtBall.sprite.vy=this.sprite.vy,this.caughtBall.sprite.vx=-4}this.caughtBall=null}}},{key:"handleCaughtBall",value:function(){if(this.caughtBall)switch(this.position){case t:this.sprite.putBottom(this.caughtBall.sprite);break;case v:this.sprite.putRight(this.caughtBall.sprite);
break;case r:this.sprite.putTop(this.caughtBall.sprite);break;case m:this.sprite.putLeft(this.caughtBall.sprite)}}},{key:"update",value:function(){q(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this);var b=this.g,a=Object.assign({},b.stage.localBounds);a.y=32;b.contain(this.sprite,a);this.handleInput();this.handleCaughtBall();b.move(this.sprite)}}]);return e}(h.default);g.default=d},function(h,g){GA.custom=function(d){(function(a){function c(c,d){var f=a.createEvent("Event");
f.initEvent(c,!0,!1);d.dispatchEvent(f)}function d(d){a[g.enabled]=a[f.enabled];a[g.element]=a[f.element];c(g.events.change,d.target)}function q(a){c(g.events.error,a.target)}var f,k,h={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",events:{change:"webkitfullscreenchange",
error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},g=h.w3;for(k in h)if(h[k].enabled in a){f=h[k];break}g.enabled in a||!f||(a.addEventListener(f.events.change,
d,!1),a.addEventListener(f.events.error,q,!1),a[g.enabled]=a[f.enabled],a[g.element]=a[f.element],a[g.exit]=a[f.exit],Element.prototype[g.request]=function(){return this[f.request].apply(this,arguments)});return f})(document);d.move=function(a){if(!1===a instanceof Array)a.x+=a.vx|0,a.y+=a.vy|0;else for(var c=0;c<a.length;c++){var d=a[c];d.x+=d.vx|0;d.y+=d.vy|0}};d.randomInt=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};d.wait=function(a,c){return setTimeout(c,a)};d.outsideBounds=function(a,
c,d){var h=c.y,f=c.width,k=c.height,g;a.x<c.x-a.width&&(g="left");a.y<h-a.height&&(g="top");a.x>f&&(g="right");a.y>k&&(g="bottom");g&&d&&d(g);return g};d.contain=function(a,c,d,g){var f=c.x,h=c.y,q=c.width;c=c.height;d=d||!1;var n;a.x<f&&(d&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=f,n="left");a.y<h&&(d&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=h,n="top");a.x+a.width>q&&(d&&(a.vx*=-1),a.mass&&(a.vx/=a.mass),a.x=q-a.width,n="right");a.y+a.height>c&&(d&&(a.vy*=-1),a.mass&&(a.vy/=a.mass),a.y=c-a.height,n=
"bottom");n&&g&&g(n);return n};d.getPoints=function(a){var c=a.collisionArea;return void 0!==c?{topLeft:{x:a.x+c.x,y:a.y+c.y},topRight:{x:a.x+c.x+c.width,y:a.y+c.y},bottomLeft:{x:a.x+c.x,y:a.y+c.y+c.height},bottomRight:{x:a.x+c.x+c.width,y:a.y+c.y+c.height}}:{topLeft:{x:a.x,y:a.y},topRight:{x:a.x+a.width-1,y:a.y},bottomLeft:{x:a.x,y:a.y+a.height-1},bottomRight:{x:a.x+a.width-1,y:a.y+a.height-1}}};d.hitTestCircle=function(a,c,d){var g;void 0===d&&(d=!1);d?(d=c.gx+c.radius-(a.gx+a.radius),g=c.gy+c.radius-
(a.gy+a.radius)):(d=c.centerX-a.centerX,g=c.centerY-a.centerY);return Math.sqrt(d*d+g*g)<a.radius+c.radius};d.hitTestRectangle=function(a,c,d){var g,f;void 0===d&&(d=!1);d?(g=a.gx+a.halfWidth-(c.gx+c.halfWidth),f=a.gy+a.halfHeight-(c.gy+c.halfHeight)):(g=a.centerX-c.centerX,f=a.centerY-c.centerY);d=a.halfWidth+c.halfWidth;a=a.halfHeight+c.halfHeight;return Math.abs(g)<d?Math.abs(f)<a?!0:!1:!1};d.hitTestCircleRectangle=function(a,c,g){var h,f,k,p;void 0===g&&(g=!1);g?(h=a.gx,f=a.gy,k=c.gx,p=c.gy):
(h=a.x,f=a.y,k=c.x,p=c.y);h=f<p-c.halfHeight?h<k-1-c.halfWidth?"topLeft":h>k+1+c.halfWidth?"topRight":"topMiddle":f>p+c.halfHeight?h<k-1-c.halfWidth?"bottomLeft":h>k+1+c.halfWidth?"bottomRight":"bottomMiddle":h<k-c.halfWidth?"leftMiddle":"rightMiddle";if("topMiddle"===h||"bottomMiddle"===h||"leftMiddle"===h||"rightMiddle"===h)a=d.hitTestRectangle(a,c,g);else{f={};switch(h){case "topLeft":f.x=k;f.y=p;break;case "topRight":f.x=k+c.width;f.y=p;break;case "bottomLeft":f.x=k;f.y=p+c.height;break;case "bottomRight":f.x=
k+c.width,f.y=p+c.height}a=d.hitTestCirclePoint(a,f,g)}return a?h:a};d.hitTestCirclePoint=function(a,c,g){void 0===g&&(g=!1);c.diameter=1;c.radius=.5;c.centerX=c.x;c.centerY=c.y;c.gx=c.x;c.gy=c.y;return d.hitTestCircle(a,c,g)};d.fullscreenScale=1;d.requestFullScreen=function(){document.fullscreenEnabled||d.canvas.requestFullscreen()};d.exitFullScreen=function(){document.fullscreenEnabled&&document.exitFullscreen()};d.alignFullscreen=function(){d.fullscreenScale=Math.min(screen.width/d.canvas.width,
screen.height/d.canvas.height);if(0===document.styleSheets.length){var a=document.createElement("div");a.innerHTML="\x3cstyle\x3e\x3c/style\x3e";document.body.appendChild(a)}a=navigator.userAgent.toLowerCase();d.canvas.width>d.canvas.height?-1!==a.indexOf("safari")||-1!==a.indexOf("chrome")?document.styleSheets[0].insertRule("canvas:-webkit-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain}",0):-1!==a.indexOf("firefox")?
document.styleSheets[0].insertRule("canvas:-moz-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",0):-1!==a.indexOf("opera")?document.styleSheets[0].insertRule("canvas:-o-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",0):-1!==a.indexOf("explorer")?document.styleSheets[0].insertRule("canvas:-ms-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",
0):document.styleSheets[0].insertRule("canvas:fullscreen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}",0):-1!==a.indexOf("safari")||-1!==a.indexOf("chrome")?document.styleSheets[0].insertRule("canvas:-webkit-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):-1!==a.indexOf("firefox")?document.styleSheets[0].insertRule("canvas:-moz-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):-1!==a.indexOf("opera")?
document.styleSheets[0].insertRule("canvas:-o-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):-1!==a.indexOf("msie")?document.styleSheets[0].insertRule("canvas:-ms-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}",0):document.styleSheets[0].insertRule("canvas:fullscreen {height: 100%; margin: 0 auto; object-fit: contain;}",0)};d.enableFullscreen=function(a){a&&(a=Array.prototype.slice.call(arguments));d.alignFullscreen();d.canvas.addEventListener("mouseup",d.requestFullScreen,
!1);d.canvas.addEventListener("touchend",d.requestFullScreen,!1);a&&a.forEach(function(a){window.addEventListener("keyup",function(c){c.keyCode===a&&d.exitFullScreen();c.preventDefault()},!1)})};d.launchFullscreen=function(a){d.hitTestPoint(d.pointer.position,a)&&d.enableFullscreen()};d.scaleFullscreen=function(){document.fullscreenEnabled?(d.scale=d.fullscreenScale,d.pointer.scale=d.fullscreenScale):d.canvas.scaled||(d.scale=1,d.pointer.scale=1)};d.updateFunctions.push(d.scaleFullscreen)}},function(h,
g){var d=d||{};d.VERSION="0.0.1";d.plugins=void 0;d.custom=void 0;d.create=function(a,c,g,h,f){function k(){requestAnimationFrame(k,e.canvas);if(void 0===e._fps)q();else{var b=Date.now(),a=b-e._startTime;1E3<a&&(a=e._frameDuration);e._startTime=b;for(e._lag+=a;e._lag>=e._frameDuration;)p(),q(),e._lag-=e._frameDuration;e.render(e.canvas,e._lag/e._frameDuration)}}function p(){function b(a){a._previousX=a.x;a._previousY=a.y;a.children&&0<a.children.length&&a.children.forEach(function(a){b(a)})}e.stage.children.forEach(function(a){b(a)})}
function q(){if(0<e.buttons.length){e.canvas.style.cursor="auto";for(var b=e.buttons.length-1;0<=b;b--){var a=e.buttons[b];a.update(e.pointer,e.canvas);"over"!==a.state&&"down"!==a.state||a.stage||(e.canvas.style.cursor="pointer")}}e.dragAndDrop&&e.pointer.updateDragAndDrop();e.state&&!e.paused&&e.state();if(0!==e.updateFunctions.length)for(b=0;b<e.updateFunctions.length;b++)(0,e.updateFunctions[b])()}function m(b){b.x=0;b.y=0;b.vx=0;b.vy=0;b.width=0;b.height=0;b.scaleX=1;b.scaleY=1;b.pivotX=.5;b.pivotY=
.5;b.rotation=0;b.visible=!0;b.parent=void 0;b.stage=!1;b.shadow=!1;b.shadowColor="rgba(100, 100, 100, 0.5)";b.shadowOffsetX=3;b.shadowOffsetY=3;b.shadowBlur=3;b.blendMode=void 0;b._alpha=1;b._draggable=void 0;b._layer=0;b._circular=!1;b._interactive=!1;b._previousX=void 0;b._previousY=void 0;b.children=[];b.addChild=function(a){a.parent&&a.parent.removeChild(a);a.parent=b;b.children.push(a)};b.removeChild=function(a){if(a.parent===b)b.children.splice(b.children.indexOf(a),1);else throw Error(a+"is not a child of "+
b);};b.swapChildren=function(a,c){var l=b.children.indexOf(a),d=b.children.indexOf(c);if(-1!==l&&-1!==d)a.childIndex=d,c.childIndex=l,b.children[l]=c,b.children[d]=a;else throw Error(child+" Both objects must be a child of the caller "+b);};b.add=function(a){var l=Array.prototype.slice.call(arguments);1<l.length?l.forEach(function(a){b.addChild(a)}):b.addChild(l[0])};b.remove=function(a){var l=Array.prototype.slice.call(arguments);1<l.length?l.forEach(function(a){b.removeChild(a)}):b.removeChild(l[0])};
b.setPosition=function(a,c){b.x=a;b.y=c};b.putCenter=function(a,c,d){a.x=b.x+b.halfWidth-a.halfWidth+(c||0);a.y=b.y+b.halfHeight-a.halfHeight+(d||0);b.compensateForParentPosition(b,a)};b.putTop=function(a,c,d){a.x=b.x+b.halfWidth-a.halfWidth+(c||0);a.y=b.y-a.height+(d||0);b.compensateForParentPosition(b,a)};b.putRight=function(a,c,d){a.x=b.x+b.width+(c||0);a.y=b.y+b.halfHeight-a.halfHeight+(d||0);b.compensateForParentPosition(b,a)};b.putBottom=function(a,c,d){a.x=b.x+b.halfWidth-a.halfWidth+(c||0);
a.y=b.y+b.height+(d||0);b.compensateForParentPosition(b,a)};b.putLeft=function(a,c,d){a.x=b.x-a.width+(c||0);a.y=b.y+b.halfHeight-a.halfHeight+(d||0);b.compensateForParentPosition(b,a)};b.compensateForParentPosition=function(a,b){if(0!==b.parent.gx||0!==b.parent.gy)b.x-=a.gx,b.y-=a.gy};Object.defineProperties(b,{gx:{get:function(){return this.parent?this.x+this.parent.gx:this.x},enumerable:!0,configurable:!0},gy:{get:function(){return this.parent?this.y+this.parent.gy:this.y},enumerable:!0,configurable:!0},
position:{get:function(){return{x:b.x,y:b.y}},enumerable:!0,configurable:!0},alpha:{get:function(){return b.parent._alpha*b._alpha},set:function(a){b._alpha=a},enumerable:!0,configurable:!0},halfWidth:{get:function(){return b.width/2},enumerable:!0,configurable:!0},halfHeight:{get:function(){return b.height/2},enumerable:!0,configurable:!0},centerX:{get:function(){return b.x+b.halfWidth},enumerable:!0,configurable:!0},centerY:{get:function(){return b.y+b.halfHeight},enumerable:!0,configurable:!0},
layer:{get:function(){return b._layer},set:function(a){b._layer=a;b.parent.children.sort(x)},enumerable:!0,configurable:!0},circular:{get:function(){return b._circular},set:function(a){!0===a&&!1===b._circular&&(n(b),b._circular=!0);!1===a&&!0===b._circular&&(delete b.diameter,delete b.radius,b._circular=!1)},enumerable:!0,configurable:!0},draggable:{get:function(){return b._draggable},set:function(a){!0===a&&(e.draggableSprites.push(b),b._draggable=!0,!1===e.dragAndDrop&&(e.dragAndDrop=!0));!1===
a&&e.draggableSprites.splice(e.draggableSprites.indexOf(b),1)},enumerable:!0,configurable:!0},interactive:{get:function(){return b._interactive},set:function(a){!0===a&&(r(b),b._interactive=!0);!1===a&&(e.buttons.splice(e.buttons.indexOf(b),1),b._interactive=!1)},enumerable:!0,configurable:!0},localBounds:{get:function(){return{x:0,y:0,width:b.width,height:b.height}},enumerable:!0,configurable:!0},globalBounds:{get:function(){return rectangle={x:b.gx,y:b.gy,width:b.gx+b.width,height:b.gy+b.height}},
enumerable:!0,configurable:!0},empty:{get:function(){return 0===b.children.length?!0:!1},enumerable:!0,configurable:!0}})}function n(a){Object.defineProperties(a,{diameter:{get:function(){return a.width},set:function(b){a.width=b;a.height=b},enumerable:!0,configurable:!0},radius:{get:function(){return a.width/2},set:function(b){a.width=2*b;a.height=2*b},enumerable:!0,configurable:!0}})}function r(a){a.press=a.press||void 0;a.release=a.release||void 0;a.over=a.over||void 0;a.out=a.out||void 0;a.tap=
a.tap||void 0;a.state="up";a.action="";a.pressed=!1;a.enabled=!0;a.hoverOver=!1;e.buttons.push(a);a.update=function(b,c){a.enabled&&(c=e.pointer.hitTestSprite(a),b.isUp&&(a.state="up","button"===a.subtype&&a.show(0)),c&&(a.state="over",a.frames&&3===a.frames.length&&"button"===a.subtype&&a.show(1),b.isDown&&(a.state="down","button"===a.subtype&&(3===a.frames.length?a.show(2):a.show(1)))),"down"!==a.state||a.pressed||(a.press&&a.press(),a.pressed=!0,a.action="pressed"),"over"===a.state&&(a.pressed&&
(a.release&&a.release(),a.pressed=!1,a.action="released",e.pointer.tapped&&a.tap&&a.tap()),a.hoverOver||(a.over&&a.over(),a.hoverOver=!0)),"up"===a.state&&(a.pressed&&(a.release&&a.release(),a.pressed=!1,a.action="released"),a.hoverOver&&(a.out&&a.out(),a.hoverOver=!1)))}}function w(a){var b={};b.code=a;b.isDown=!1;b.isUp=!0;b.press=void 0;b.release=void 0;b.downHandler=function(a){a.keyCode===b.code&&(b.isUp&&b.press&&b.press(),b.isDown=!0,b.isUp=!1);a.preventDefault()};b.upHandler=function(a){a.keyCode===
b.code&&(b.isDown&&b.release&&b.release(),b.isDown=!1,b.isUp=!0);a.preventDefault()};window.addEventListener("keydown",b.downHandler.bind(b),!1);window.addEventListener("keyup",b.upHandler.bind(b),!1);return b}function x(a,c){return a.layer<c.layer?-1:1}var e={};e.canvas=document.createElement("canvas");e.canvas.setAttribute("width",1*a);e.canvas.setAttribute("height",1*c);e.canvas.style.backgroundColor="black";document.body.appendChild(e.canvas);e.canvas.ctx=e.canvas.getContext("2d");e.stage=function(){var a=
{};m(a);a.stage=!0;a.width=e.canvas.width;a.height=e.canvas.height;a.x=0;a.y=0;a.parent=void 0;return a}();e.pointer=function(){var a={_x:0,_y:0};Object.defineProperties(a,{x:{get:function(){return a._x/e.scale},enumerable:!0,configurable:!0},y:{get:function(){return a._y/e.scale},enumerable:!0,configurable:!0},centerX:{get:function(){return a.x},enumerable:!0,configurable:!0},centerY:{get:function(){return a.y},enumerable:!0,configurable:!0},position:{get:function(){return{x:a.x,y:a.y}},enumerable:!0,
configurable:!0}});a.isDown=!1;a.isUp=!0;a.tapped=!1;a.downTime=0;a.elapsedTime=0;a.press=void 0;a.release=void 0;a.tap=void 0;a.dragSprite=null;a.dragOffsetX=0;a.dragOffsetY=0;a.moveHandler=function(b){a._x=b.pageX-b.target.offsetLeft;a._y=b.pageY-b.target.offsetTop;b.preventDefault()};a.touchmoveHandler=function(b){a._x=b.targetTouches[0].pageX-e.canvas.offsetLeft;a._y=b.targetTouches[0].pageY-e.canvas.offsetTop;b.preventDefault()};a.downHandler=function(b){a._x=b.pageX-b.target.offsetLeft;a._y=
b.pageY-b.target.offsetTop;a.isDown=!0;a.isUp=!1;a.tapped=!1;a.downTime=Date.now();a.press&&a.press();b.preventDefault()};a.touchstartHandler=function(b){a._x=b.targetTouches[0].pageX-e.canvas.offsetLeft;a._y=b.targetTouches[0].pageY-e.canvas.offsetTop;a.isDown=!0;a.isUp=!1;a.tapped=!1;a.downTime=Date.now();a.press&&a.press();b.preventDefault()};a.upHandler=function(b){a.elapsedTime=Math.abs(a.downTime-Date.now());200>=a.elapsedTime&&(a.tapped=!0,a.tap&&a.tap());a.isUp=!0;a.isDown=!1;a.release&&a.release();
b.preventDefault()};e.canvas.addEventListener("mousemove",a.moveHandler.bind(a),!1);e.canvas.addEventListener("mousedown",a.downHandler.bind(a),!1);window.addEventListener("mouseup",a.upHandler.bind(a),!1);e.canvas.addEventListener("touchmove",a.touchmoveHandler.bind(a),!1);e.canvas.addEventListener("touchstart",a.touchstartHandler.bind(a),!1);window.addEventListener("touchend",a.upHandler.bind(a),!1);e.canvas.style.touchAction="none";a.hitTestSprite=function(b){if(b.circular){var c=a.x-(b.gx+b.halfWidth),
d=a.y-(b.gy+b.halfHeight);b=Math.sqrt(c*c+d*d)<b.radius}else{var c=b.gx+b.width,d=b.gy,l=b.gy+b.height;b=a.x>b.gx&&a.x<c&&a.y>d&&a.y<l}return b};a.updateDragAndDrop=function(){if(a.isDown)if(null===a.dragSprite)for(var b=e.draggableSprites.length-1;-1<b;b--){var c=e.draggableSprites[b];if(c.draggable&&a.hitTestSprite(c)){a.dragOffsetX=a.x-c.gx;a.dragOffsetY=a.y-c.gy;a.dragSprite=c;b=c.parent.children;b.splice(b.indexOf(c),1);b.push(c);e.draggableSprites.splice(e.draggableSprites.indexOf(c),1);e.draggableSprites.push(c);
break}}else a.dragSprite.x=a.x-a.dragOffsetX,a.dragSprite.y=a.y-a.dragOffsetY;a.isUp&&(a.dragSprite=null);e.draggableSprites.some(function(b){if(b.draggable&&a.hitTestSprite(b))return e.canvas.style.cursor="pointer",!0;e.canvas.style.cursor="auto";return!1})};return a}();e.key=function(){var a={};a.leftArrow=w(37);a.upArrow=w(38);a.rightArrow=w(39);a.downArrow=w(40);a.space=w(32);return a}();e.buttons=[];e.dragAndDrop=!1;e.draggableSprites=[];e.tweens=[];e.state=void 0;e.load=f||void 0;e.setup=g||
void 0;if(void 0===e.setup)throw Error("Please supply the setup function in the constructor");e.assetFilePaths=h||void 0;e.paused=!1;e._fps=60;e._startTime=Date.now();e._frameDuration=1E3/e._fps;e._lag=0;e.interpolate=!0;e.updateFunctions=[];e.scale=1;e.start=function(){e.assetFilePaths?(e.assets.whenLoaded=function(){e.state=void 0;e.setup()},e.assets.load(e.assetFilePaths),e.load&&(e.state=e.load)):e.setup();k()};e.pause=function(){e.paused=!0};e.resume=function(){e.paused=!1};e.hidePointer=function(){e.canvas.style.cursor=
"none"};e.showPointer=function(){e.canvas.style.cursor="auto"};Object.defineProperties(e,{fps:{get:function(){return e._fps},set:function(a){e._fps=a;e._startTime=Date.now();e._frameDuration=1E3/e._fps},enumerable:!0,configurable:!0},backgroundColor:{set:function(a){e.canvas.style.backgroundColor=a},enumerable:!0,configurable:!0}});e.remove=function(a){var b=Array.prototype.slice.call(arguments);if(b[0]instanceof Array){if(b=b[0],0<b.length)for(var c=b.length-1;0<=c;c--){var d=b[c];d.parent.removeChild(d);
b.splice(b.indexOf(d),1)}}else 1<b.length?b.forEach(function(a){a.parent.removeChild(a)}):b[0].parent.removeChild(b[0])};e.group=function(a){var b={};m(b);b.addChild=function(a){a.parent&&a.parent.removeChild(a);a.parent=b;b.children.push(a);b.calculateSize()};b.removeChild=function(a){if(a.parent===b)b.children.splice(b.children.indexOf(a),1);else throw Error(a+"is not a child of "+b);b.calculateSize()};b.calculateSize=function(){0<b.children.length&&(b._newWidth=0,b._newHeight=0,b.children.forEach(function(a){a.x+
a.width>b._newWidth&&(b._newWidth=a.x+a.width);a.y+a.height>b._newHeight&&(b._newHeight=a.y+a.height)}),b.width=b._newWidth,b.height=b._newHeight)};e.stage.addChild(b);a&&Array.prototype.slice.call(arguments).forEach(function(a){b.addChild(a)});return b};e.rectangle=function(a,c,d,f,g,u,z){var b={};m(b);b.mask=!1;b.width=a||32;b.height=c||32;b.fillStyle=d||"red";b.strokeStyle=f||"none";b.lineWidth=g||0;b.x=u||0;b.y=z||0;e.stage.addChild(b);b.render=function(a){a.strokeStyle=b.strokeStyle;a.lineWidth=
b.lineWidth;a.fillStyle=b.fillStyle;a.beginPath();a.rect(-b.width*b.pivotX,-b.height*b.pivotY,b.width,b.height);!0===b.mask?a.clip():("none"!==b.strokeStyle&&a.stroke(),"none"!==b.fillStyle&&a.fill())};return b};e.circle=function(a,c,d,f,g,u){var b={};m(b);b.mask=!1;b.width=a||32;b.height=a||32;b.fillStyle=c||"red";b.strokeStyle=d||"none";b.lineWidth=f||"none";b.x=g||0;b.y=u||0;e.stage.addChild(b);n(b);b.render=function(a){a.strokeStyle=b.strokeStyle;a.lineWidth=b.lineWidth;a.fillStyle=b.fillStyle;
a.beginPath();a.arc(b.radius+-b.diameter*b.pivotX,b.radius+-b.diameter*b.pivotY,b.radius,0,2*Math.PI,!1);!0===b.mask?a.clip():("none"!==b.strokeStyle&&a.stroke(),"none"!==b.fillStyle&&a.fill())};return b};e.line=function(a,c,d,f,g,u){var b={};m(b);d||0===d||(d=0);f||0===f||(f=0);g||0===g||(g=32);u||0===u||(u=32);b.ax=d;b.ay=f;b.bx=g;b.by=u;b.strokeStyle=a||"red";b.lineWidth=c||1;b.lineJoin="round";e.stage.addChild(b);b.render=function(a){a.strokeStyle=b.strokeStyle;a.lineWidth=b.lineWidth;a.lineJoin=
b.lineJoin;a.beginPath();a.moveTo(b.ax,b.ay);a.lineTo(b.bx,b.by);"none"!==b.strokeStyle&&a.stroke();"none"!==b.fillStyle&&a.fill()};return b};e.text=function(a,c,d,f,g){var b={};m(b);b.content=a||"Hello!";b.font=c||"12px sans-serif";b.fillStyle=d||"red";b.textBaseline="top";Object.defineProperties(b,{width:{get:function(){return e.canvas.ctx.measureText(b.content).width},enumerable:!0,configurable:!0},height:{get:function(){return e.canvas.ctx.measureText("M").width},enumerable:!0,configurable:!0}});
e.stage.addChild(b);b.x=f||0;b.y=g||0;b.render=function(a){a.strokeStyle=b.strokeStyle;a.lineWidth=b.lineWidth;a.fillStyle=b.fillStyle;0===b.width&&(b.width=a.measureText(b.content).width);0===b.height&&(b.height=a.measureText("M").width);a.translate(-b.width*b.pivotX,-b.height*b.pivotY);a.font=b.font;a.textBaseline=b.textBaseline;a.fillText(b.content,0,0)};return b};e.frame=function(a,c,d,e,f){var b={};b.image=a;b.x=c;b.y=d;b.width=e;b.height=f;return b};e.frames=function(a,c,d,e){var b={};b.image=
a;b.data=c;b.width=d;b.height=e;return b};e.filmstrip=function(a,c,d,f){for(var b=e.assets[a].source,l=[],g=b.width/c,b=b.height/d*g,h=0;h<b;h++){var y,k;y=h%g*c;k=Math.floor(h/g)*d;f&&0<f&&(y+=f+f*h%g,k+=f+f*Math.floor(h/g));l.push([y,k])}return e.frames(a,l,c,d)};e.sprite=function(a){var b={};if(void 0===a)throw Error("Sprites require a source");m(b);b.frames=[];b.loop=!0;b._currentFrame=0;b.setTexture=function(a){if(a.image)if(a.image&&!a.data){if(!(e.assets[a.image].source instanceof Image))throw Error(a.image+
" is not an image file");b.source=e.assets[a.image].source;b.sourceX=a.x;b.sourceY=a.y;b.width=a.width;b.height=a.height;b.sourceWidth=a.width;b.sourceHeight=a.height}else a.image&&a.data&&(b.source=e.assets[a.image].source,b.frames=a.data,b.sourceX=b.frames[0][0],b.sourceY=b.frames[0][1],b.width=a.width,b.height=a.height,b.sourceWidth=a.width,b.sourceHeight=a.height);else a instanceof Array?(b.frames=a,b.source=e.assets[a[0]].source,b.sourceX=e.assets[a[0]].frame.x,b.sourceY=e.assets[a[0]].frame.y,
b.width=e.assets[a[0]].frame.w,b.height=e.assets[a[0]].frame.h,b.sourceWidth=e.assets[a[0]].frame.w,b.sourceHeight=e.assets[a[0]].frame.h):(b.tilesetFrame=e.assets[a],b.source=b.tilesetFrame.source,b.sourceX=b.tilesetFrame.frame.x,b.sourceY=b.tilesetFrame.frame.y,b.width=b.tilesetFrame.frame.w,b.height=b.tilesetFrame.frame.h,b.sourceWidth=b.tilesetFrame.frame.w,b.sourceHeight=b.tilesetFrame.frame.h)};b.setTexture(a);b.gotoAndStop=function(a){if(0<b.frames.length)b.frames[0]instanceof Array?(b.sourceX=
b.frames[a][0],b.sourceY=b.frames[a][1]):e.assets[b.frames[a]].frame&&(b.source=e.assets[b.frames[a]].source,b.sourceX=e.assets[b.frames[a]].frame.x,b.sourceY=e.assets[b.frames[a]].frame.y,b.sourceWidth=e.assets[b.frames[a]].frame.w,b.sourceHeight=e.assets[b.frames[a]].frame.h,b.width=e.assets[b.frames[a]].frame.w,b.height=e.assets[b.frames[a]].frame.h),b._currentFrame=a;else throw Error("Frame number "+a+"doesn't exist");};b.x=0;b.y=0;0<b.frames.length&&(e.addStatePlayer(b),Object.defineProperty(b,
"currentFrame",{get:function(){return b._currentFrame},enumerable:!1,configurable:!1}));e.stage.addChild(b);b.render=function(a){a.drawImage(b.source,b.sourceX,b.sourceY,b.sourceWidth,b.sourceHeight,-b.width*b.pivotX,-b.height*b.pivotY,b.width,b.height)};return b};e.button=function(a){a=e.sprite(a);a.subtype="button";r(a);return a};e.image=function(a){return e.assets[a]};e.json=function(a){return e.assets[a]};e.addStatePlayer=function(a){function b(b){d();g=b[0];h=b[1];f=h-g;0===g&&(f+=1,e+=1);1===
f&&(f=2,e+=1);a.fps||(a.fps=12);b=1E3/a.fps;a.gotoAndStop(g);m||(k=setInterval(c.bind(this),b),m=!0)}function c(){e<f?(a.gotoAndStop(a.currentFrame+1),e+=1):a.loop&&(a.gotoAndStop(g),e=1)}function d(){void 0!==k&&!0===m&&(m=!1,f=h=g=e=0,clearInterval(k))}var e=0,f=0,g=0,h=0,k=void 0,m=!1;a.show=function(b){d();"string"!==typeof b?a.gotoAndStop(b):a.gotoAndStop(a.frames.indexOf(b))};a.play=function(){b([0,a.frames.length-1])};a.stop=function(){d();a.gotoAndStop(a.currentFrame)};a.playing=m;a.playSequence=
b};e.render=function(a,c){function b(f){if(f.visible&&f.gx<a.width+f.width&&f.gx+f.width>=-f.width&&f.gy<a.height+f.height&&f.gy+f.height>=-f.height){d.save();e.interpolate?(f.renderX=void 0!==f._previousX?(f.x-f._previousX)*c+f._previousX:f.x,f.renderY=void 0!==f._previousY?(f.y-f._previousY)*c+f._previousY:f.y):(f.renderX=f.x,f.renderY=f.y);d.translate(f.renderX+f.width*f.pivotX,f.renderY+f.height*f.pivotY);d.globalAlpha=f.alpha;d.rotate(f.rotation);d.scale(f.scaleX,f.scaleY);f.shadow&&(d.shadowColor=
f.shadowColor,d.shadowOffsetX=f.shadowOffsetX,d.shadowOffsetY=f.shadowOffsetY,d.shadowBlur=f.shadowBlur);f.blendMode&&(d.globalCompositeOperation=f.blendMode);f.render&&f.render(d);if(f.children&&0<f.children.length){d.translate(-f.width*f.pivotX,-f.height*f.pivotY);for(var g=0;g<f.children.length;g++)b(f.children[g])}d.restore()}}var d=a.ctx;d.clearRect(0,0,a.width,a.height);for(var f=0;f<e.stage.children.length;f++)b(e.stage.children[f])};e.assets={toLoad:0,loaded:0,imageExtensions:["png","jpg",
"gif","webp"],fontExtensions:["ttf","otf","ttc","woff"],audioExtensions:["mp3","ogg","wav","webm"],jsonExtensions:["json"],whenLoaded:void 0,load:function(a){console.log("Loading assets...");var b=this;b.toLoad=a.length;a.forEach(function(a){var c=a.split(".").pop();if(-1!==b.imageExtensions.indexOf(c)){var d=new Image;d.addEventListener("load",function(){d.name=a;b[d.name]={source:d,frame:{x:0,y:0,w:d.width,h:d.height}};b.loadHandler()},!1);d.src=a}else if(-1!==b.fontExtensions.indexOf(c)){var c=
a.split("/").pop().split(".")[0],f=document.createElement("style");f.appendChild(document.createTextNode("@font-face {font-family: '"+c+"'; src: url('"+a+"');}"));document.head.appendChild(f);b.loadHandler()}else if(-1!==b.audioExtensions.indexOf(c))c=e.makeSound(a,b.loadHandler.bind(b)),c.name=a,b[c.name]=c;else if(-1!==b.jsonExtensions.indexOf(c)){var g=new XMLHttpRequest,h={};g.open("GET",a,!0);g.addEventListener("readystatechange",function(){200===g.status&&4===g.readyState&&(h=JSON.parse(g.responseText),
h.name=a,b[h.name]=h,h.frames?b.createTilesetFrames(h,a):b.loadHandler())});g.send()}else console.log("File type not recognized: "+a)})},createTilesetFrames:function(a,c){var b=this,d=c.replace(/[^\/]*$/,""),e=new Image;e.addEventListener("load",function(){b[d+a.meta.image]={source:e,frame:{x:0,y:0,w:e.width,h:e.height}};Object.keys(a.frames).forEach(function(c){b[c]=a.frames[c];b[c].source=e});b.loadHandler()},!1);e.src=d+a.meta.image},loadHandler:function(){this.loaded+=1;console.log(this.loaded);
this.toLoad===this.loaded&&(this.loaded=this.toLoad=0,this.whenLoaded())}};e.keyboard=w;e.makeDisplayObject=m;void 0!==d.plugins&&d.plugins(e);void 0!==d.custom&&d.custom(e);return e};window.ga=d.create;window.GA=d},function(h,g,d){var a=(h=d(5))&&h.__esModule?h:{default:h};d(9);d(8);d=window.ga;var c=d(768,800,function(){c.canvas.style.border="2px black solid";c.canvas.style.display="block";c.canvas.style.margin="auto";c.backgroundColor="white";c.state=(0,a.default)(c)},["assets/tileset.png"]);c.start();
c.enableFullscreen()},function(h,g,d){var a=(g=d(5))&&g.__esModule?g:{default:g};d(4);h.exports=function(c){var d={};c.collisionGroups.paddles.forEach(function(a){d[a.color]=0});c.collisionGroups.blocks.forEach(function(a){"blank"!==a.color&&(d[a.color]+=1)});c.things.forEach(function(a){return c.remove(a.sprite)});var g=[];g.push(c.text("Round score","48px sans-serif","#000000",c.stage.halfWidth-132,128));Object.keys(d).forEach(function(a,h){g.push(c.text(a+": "+d[a],"24px sans-serif","#000000",
c.stage.halfWidth-32,128+32*(h+2)))});c.wait(3E3,function(){g.forEach(function(a){return c.remove(a)});c.state=(0,a.default)(c)});return function(){}}},function(h,g,d){function a(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(g,
"__esModule",{value:!0});var c=function(){function a(a,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(c,d,g){d&&a(c.prototype,d);g&&a(c,g);return c}}(),n=function f(a,c,d){null===a&&(a=Function.prototype);var g=Object.getOwnPropertyDescriptor(a,c);if(void 0===g){if(a=Object.getPrototypeOf(a),null!==a)return f(a,c,d)}else{if("value"in g)return g.value;c=g.get;return void 0===c?
void 0:c.call(d)}};h=d(1);h=function(d){function f(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var d;d=(f.__proto__||Object.getPrototypeOf(f)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.sprite=a.rectangle(768,31,"#aaaaaa","#000000",0,0);if("function"!==typeof c.onTimerReachesZero)throw new "Must specify onTimerReachesZero callback";
d.onTimerReachesZero=c.onTimerReachesZero;d.timerFrames=5460;d.timerText=a.text(Math.ceil(d.timerFrames/60),"24px sans-serif","#ffffff",d.g.stage.halfWidth-12,0);return d}a(f,d);c(f,[{key:"updateTimerText",value:function(){this.timerText.content=Math.floor(this.timerFrames/60)}},{key:"update",value:function(){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"update",this).call(this);--this.timerFrames;this.updateTimerText();if(0===this.timerText.content)this.onTimerReachesZero()}}]);return f}((h&&
h.__esModule?h:{default:h}).default);g.default=h}]);